<app-car-nav-bar></app-car-nav-bar>
<br>
<div>
    <div class="text-gray-900 w-full pt-2 p-4 ">
        <div class="p-4 flex justify-center bg-black bg-opacity-50">
            <input class="w-full h-16 px-3
            bg-black bg-opacity-50
            rounded mb-8 focus:outline-none focus:shadow-outline text-xl text-white px-8 shadow-lg"
                [(ngModel)]="modelName" type="search" placeholder="Chercher...">
            <button type="button" (click)="getCarByModel()"
                class="inline-flex p-8 w-30  bg-red-600 text-white rounded-full h-6 px-3 justify-center items-center">
                chercher</button>
        </div>
        <div class="p-4 flex justify-center">
            <div *ngIf="reservedCar" class="alert alert-danger">
                Cette voiture est reservée,elle ne peut pa être supprimer
            </div>
        </div>
        <div class="px-3 py-4 flex justify-center">

            <table class="w-full   text-md bg-black bg-opacity-50 shadow-md rounded mb-4">
                <tbody>
                    <tr class="border-b bg-opacity-75">
                        <th class="text-left p-3 px-5 text-red-500">Matricule</th>
                        <th class="text-left p-3 px-5 text-red-500">Année de fabrication</th>
                        <th class="text-left p-3 px-5 text-red-500">Modele</th>
                        <th class="text-left p-3 px-5 text-red-500">Prix de location</th>
                        <th class="text-left p-3 px-5 text-red-500">Image</th>


                    </tr>
                    <tr>

                    </tr>
                    <tr *ngFor="let car of cars | async" class="border-b hover:bg-gray-900 bg-black bg-opacity-50">
                        <td class="p-3 px-5
                        bg-transparent text-gray-500">
                            <label class="bg-transparent">{{car.matricule}}</label>
                        </td>

                        <td class="p-3 px-5
                        bg-transparent text-gray-500

                        "><label class="bg-transparent">{{car.creationYear}}</label>
                        </td>
                        <td class="p-3 px-5
                        bg-transparent text-gray-500
                        "><label class="bg-transparent">{{car.model.name}}</label>
                        </td>

                        <td class="p-3 px-5
                        bg-transparent text-gray-500">
                            <label class="bg-transparent">{{car.price}} Dt</label>
                        </td>

                        <td class="p-3 px-5
                        bg-transparent text-gray-500
                        ">
                            <img src="data:image/JPEG;base64,{{car.picByte}}"
                                class="h-56 max-w-sm rounded w-full object-cover object-center mb-0 card-img-top">
                        </td>

                        <td class="p-3 px-5 flex justify-end">
                            <button type="button" (click)="reserver(car.id)"
                                class="inline-flex p-8 w-30  bg-red-600 text-white rounded-full h-6 px-3 justify-center items-center">
                                reserver
                            </button>

                            <button type="button" (click)="delete(car.id)"
                                class="inline-flex p-8 w-30  bg-red-600 text-white rounded-full h-6 px-3 justify-center items-center">
                                Supprimer</button>
                        </td>

                    </tr>



                </tbody>
            </table>
        </div>
    </div>
</div>